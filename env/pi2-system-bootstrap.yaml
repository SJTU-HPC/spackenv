---
spack_config:           /lustre/home/rpm/.spack
spack_bin_root:         /lustre/spack
spack_install_root:     /lustre

modules:
  tcl:
    hash_length: 0
    naming_scheme: '{name}/{version}-{compiler.name}-{compiler.version}'
    blacklist:
      - 'autoconf'
      - 'automake'
      - 'gdbm'
      - 'gmp'
      - 'isl'
      - 'libsigsegv'
      - 'libtool'
      - 'm4'
      - 'mpc'
      - 'mpfr'
      - 'ncurses'
      - 'pkgconf'
      - 'readline'
      - 'perl%gcc@4.8.5'
      - 'zlib%gcc@4.8.5'
    all:
      conflict:
        - '{name}' 

# Externally installed packages
packages: null

install: []

msg: |
  Please run the following commands manually to install compilers and update compilers settings in env:
   
  /lustre/spack/bin/spack install gcc@5.4.0 %gcc@4.8.5
  /lustre/spack/bin/spack install gcc@8.3.0 %gcc@4.8.5
  /lustre/spack/bin/spack install intel@19.0.3 %gcc@4.8.5
  /lustre/spack/bin/spack install pgi@18.10+nvidia+single~network %gcc@4.8.5

  Then add the following to your ~/.bashrc:
  
  export SPACK_ROOT=/lustre/spack
  source $SPACK_ROOT/share/spack/setup-env.sh 

  export MODULEPATH=$MODULEPATH:/lustre/opt/share/spack/modules/cascadelake

compilers:
  - compiler:
      environment: {}
      extra_rpaths: []
      flags: {}
      modules: []
      operating_system: centos7
      paths:
        cc: /usr/bin/gcc
        cxx: /usr/bin/g++
        f77: /usr/bin/gfortran
        fc: /usr/bin/gfortran
      spec: gcc@4.8.5
      target: x86_64

mirrors:
  remote_server: http://spack.pi.sjtu.edu.cn/mirror
